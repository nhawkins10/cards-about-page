var pageData = new Array(3);var word = [102, 108, 105, 112];var wordCounter = 0;var emailFormShowing = false;$(document).ready(function() {	initialize();		//finds the currently showing page and calls the swap 	$(".page").click(function() {		var newPage = $(this);		var oldPage;		$(".page").each(function() {			if ($(this).attr("value") == "showing") {				oldPage = $(this);			}		});				//if the current page has been flipped, flip back to normal then swap		if ($(oldPage).attr("id") != $(newPage).attr("id")) {			if ($(oldPage).attr("name") == "flipped") {				flip();				setTimeout(function() {swap(oldPage, newPage);}, 1000);			} else {				swap(oldPage, newPage);			}		}	});		//if you type 'flip' the current card will rotate revealing the back	$(document).keypress(function(e) {		var code = (e.keyCode ? e.keyCode : e.which);		if (code == word[wordCounter] && wordCounter == word.length-1) {			wordCounter = 0;			flip();		} else if (code == word[wordCounter]) {			wordCounter++;			setTimeout("resetWordCounter()", 5000);		} else {			wordCounter = 0;		}	});		//$(window).resize(function() { positionPages(); });});
// This function does the page shuffle animation when switching// between pages. <currentPage> is the page that is currently // showing, and <newPage> is the requested page.
function swap(currentPage, newPage) {	//get variables for the currently showing page	var currentLeft = $(currentPage).css("left");	var currentTop = $(currentPage).css("top");	var currentZ = $(currentPage).css("z-index");		//get variables for the page that is going to be shown	var newLeft = $(newPage).css("left");	var newTop = $(newPage).css("top");	var newAngle;	var newZ = $(newPage).css("z-index");		//variables for the transitions	var currentTransitionLeft;	var currentTransitionAngle;	var newTransitionLeft;	var newTransitionAngle;			//set transition variables	if ($(newPage).css("left") < currentLeft) {		newAngle = "-2deg";		currentTransitionLeft = parseInt($(window).width() / 2 + 100);		currentTransitionAngle = "10deg";				newTransitionLeft = parseInt($(window).width() / 2 - 700);		newTransitionAngle = "-10deg";	} else {		newAngle = "3deg";		currentTransitionLeft = parseInt($(window).width() / 2 - 700);		currentTransitionAngle = "-10deg";				newTransitionLeft = parseInt($(window).width() / 2 + 100);		newTransitionAngle = "10deg";	}			//correct the z-index values	if (newZ == 1) {		$(".page").each(function(i, page) {			if ($(page).css("z-index") == 2) {				$(page).css("z-index", "1");			}		});		$(newPage).css("z-index", "2");		newZ = 2;	}		//move current page out and back	$(currentPage).transition({		left: currentTransitionLeft,		rotate: currentTransitionAngle	},  "slow", function() {		$(currentPage).css("z-index", newZ);		$(currentPage).transition({			left: newLeft,			top: newTop,			rotate: newAngle		}, "slow");	});		//move new page out and back	$(newPage).transition({		left: newTransitionLeft,		rotate: newTransitionAngle	},  "slow", function() {		$(newPage).css("z-index", currentZ);		$(newPage).transition({			left: currentLeft,			top: currentTop,			rotate: "0deg"		}, "slow");	});						$(newPage).attr("value", "showing");	$(currentPage).attr("value", "");}// This function flips the current page over  // to show a post card on the back.function flip() {	var currentPage;		if (emailFormShowing) {		return;	}		//find the current front page	$(".page").each(function(i, page) {		if ($(page).attr("value") == "showing") {			currentPage = page;		}	});		//load HTML for page	var content;	var card;	if ($(currentPage).attr("id") == "mainPage") {		content = pageData[0];		card = "card1";	} else if ($(currentPage).attr("id") == "aboutPage") {		content = pageData[1];		card = "card2";	} else if ($(currentPage).attr("id") == "contactPage") {		content = pageData[2];		card = "card3";	}		//if page is currently flipped, flip back to normal	if ($(currentPage).attr("name") == "flipped") {		$(currentPage).transition({			rotateY: "-90deg"		}, "slow", function() {			$(currentPage).html(content);						$(currentPage).transition({				rotateY: "0deg"			}, "slow");		});		$(currentPage).attr("name", "notflipped");			//if page is not flipped, flip it over	} else {		$(currentPage).transition({			rotateY: "-90deg"		}, "slow", function() {			$(currentPage).html("<div class='link' id='homeLink'></div><img src='images/" + card + ".jpg' class='postcard'/>");						$(currentPage).transition({				rotateY: "-180deg"			}, "slow");		});		$(currentPage).attr("name", "flipped");	}		}// This function shows the email form on the contact page.function showEmailForm() {	$("#contactPage").find(".content").html("<h2>Send me an email!</h2>"		+ "<form action='javascript:validateForm();'>"		+ "<input type='text' id='emailName' placeholder='Name'>"		+ "<input type='text' id='emailAddress' placeholder='Email'>"		+ "<textarea id='message' cols='40' rows='10' placeholder='Message'></textarea>"		+ "<input type='submit' class='button' value='Send'>"		+ "<input type='button' class='button' value='Back' onclick='showContactInfo()'>"		+ "</form>"		+ "<div id='emailWarning'>You need to fill out<br>all three fields.</div>");				emailFormShowing = true;}// This function shows the contact information on the contact page.function showContactInfo() {	$("#contactPage").find(".content").html("<h2>Contact Information</h2>"		+ "<div id='contactInfo'>"		+ "<pre>Address		303 W 9th<br>&#09&#09Kansas City, MO 64076</pre>"		+ "<pre>Phone&#09&#09(816) 123-4567</pre>"		+ "<pre>Email&#09&#09<a href='javascript:showEmailForm();'>contact@emailaddress.com</a></pre>"		+ "</div>");				emailFormShowing = false;}// This function ensures that all fields have been // completed on the email form.function validateForm() {	var name = $("#emailName").attr("value");	var address = $("#emailAddress").attr("value");	var message = $("#message").attr("value");		if (name == "" || address == "" || message == "") {		$("#emailWarning").css("visibility", "visible");	} else {		//submit the form	}}// This function centers the cards  in the center of the // browser windows. If the browser window is too small to// display the full height of the cards, then they will be// positioned accordingly.function positionPages() {	$(".page").css("position", "fixed");	$("#mainPage").css("left", parseInt($(window).width() / 2 - 300));	$("#aboutPage").css("left", parseInt($(window).width() / 2 - 310));	$("#contactPage").css("left", parseInt($(window).width() / 2 - 300));		if ($(window).height() < 600) {		$(".page").css("top", "90");		$("#contactPage").css("top", "80");	} else {		$(".page").css("top", parseInt($(window).height() / 2 - 240));		$("#contactPage").css("top", parseInt($(window).height() / 2 - 250));	}}// This function adds the red and blue stripes to the top// and bottom of each page. (currently not used)function addStripes() {	$(".page").each(function() {		//save the current page content		var currentHTML = $(this).html();		$(this).html("");				//add stripes at the top		$(this).append("<div class='stripeContainer'>"		+ "<div class='stripe blueStripe'></div>"		+ "<div class='stripe redStripe'></div>"		+ "<div class='stripe blueStripe'></div>"		+ "<div class='stripe redStripe'></div>"		+ "<div class='stripe blueStripe'></div>"		+ "<div class='stripe redStripe'></div>"		+ "<div class='stripe blueStripe'></div>"		+ "<div class='stripe redStripe'></div></div>");						//reinsert the page content		$(this).append(currentHTML);			//add stripes to the bottom 		$(this).append("<div class='stripeContainer' style='position: absolute; bottom: 0px;'>"			+ "<div class='stripe blueStripe'></div>"			+ "<div class='stripe redStripe'></div>"			+ "<div class='stripe blueStripe'></div>"			+ "<div class='stripe redStripe'></div>"			+ "<div class='stripe blueStripe'></div>"			+ "<div class='stripe redStripe'></div>"			+ "<div class='stripe blueStripe'></div>"			+ "<div class='stripe redStripe'></div></div>");	});}	function initialize() {	positionPages();	//addStripes();		//load the data from each page into an array	pageData[0] = $("#mainPage").html();	pageData[1] = $("#aboutPage").html();	pageData[2] = $("#contactPage").html();}// This function resets the <wordCounter> variable for the flip easter egg.function resetWordCounter() {	wordCounter = 0;}	